import{u as _,N as y,R as B,W as N,O as w,A as R}from"./auth-dzuJufgy.js";import{u as b}from"./apps-B1o9GbeE.js";import{d as j,t as E,c as I,r as O,a as S,u as W}from"./index-Du_3Vesk.js";const k=j({__name:"IfAccess",props:{auth:{type:Boolean,default:!1},no_auth:{type:Boolean,default:!1},job:{default:null},file:{default:null},app:{default:null},user:{type:Boolean,default:!1},read:{type:Boolean,default:!1},write:{type:Boolean,default:!1},own:{type:Boolean,default:!1},admin:{type:Boolean,default:!1},negate:{type:Boolean,default:!1}},setup(v){const h=v,{auth:m,no_auth:o,job:f,file:n,app:u,user:r,read:i,write:p,own:c,admin:d,negate:l}=E(h),t=_(),s=b(),A=I(()=>{if(m.value&&!o.value&&!t.isAuthenticated||o.value&&t.isAuthenticated)return l.value;let e=!0;if(i.value||p.value||c.value||d.value){let a=y;i.value&&(a+=B),p.value&&(a+=N),c.value&&(a+=w),d.value&&(a+=R),f.value&&e&&(e=t.hasAccess("job",f.value,a)),n.value&&e&&(e=t.hasAccess("file",n.value,a)),u.value&&(e&&(e=s.apps&&u.value in s.apps),e&&e&&(e=s.hasAccess(u.value,a))),r.value&&e&&(e=t.hasAccess("user",{id:r.value,user_id:null},a))}return l.value?!e:e});return(e,a)=>W(A)?O(e.$slots,"default",{key:0}):S("",!0)}});export{k as _};
