import{e as H,c,h as w,f as F,j as I,J as N,K as y,L as A,b as k,w as g,aq as D,n as T,d as U,B as j,o as C,v as i,at as L,H as P,p as x,I as a,Q as b,x as Z,u as d,a0 as K,a as V,a6 as E,a_ as J}from"./index-Du_3Vesk.js";import{Q as W}from"./QImg-wSeLu4do.js";import{Q as G}from"./QSpace-k_Ok6dG2.js";import{Q as X}from"./QResizeObserver-BmVOFGfH.js";import{_ as B,Q as Y}from"./NavigationComponent.vue_vue_type_script_setup_true_lang-DucpviY-.js";import{a as ee,Q as te}from"./QLayout-DOEFxIH6.js";import{_ as q}from"./ButtonWithTooltip.vue_vue_type_script_setup_true_lang-GHMn38hu.js";import{_ as z}from"./IfAccess.vue_vue_type_script_setup_true_lang-DM6OWTUi.js";import{u as oe}from"./auth-dzuJufgy.js";import{u as ae}from"./remote_app-C7FrUm08.js";import"./selection-BDLl0KOp.js";import"./format-CJebrXOQ.js";import"./QItemSection-CpQhvstY.js";import"./QItem-DtTTb-ec.js";import"./QList-C_17cm5H.js";import"./user-Q-Yu3pSj.js";import"./pinia-BXXl-SmG.js";import"./websocket-Cgz6NUB5.js";import"./utils-BH9nH3nv.js";import"./api-C-PlNVV_.js";import"./axios-CInKXjoT.js";import"./index-3fevySbJ.js";import"./QTooltip-CsZJC6ig.js";import"./apps-B1o9GbeE.js";import"./marked.esm-CrmhQBcZ.js";const re=H({name:"QToolbar",props:{inset:Boolean},setup(o,{slots:l}){const n=c(()=>"q-toolbar row no-wrap items-center"+(o.inset===!0?" q-toolbar--inset":""));return()=>w("div",{class:n.value,role:"toolbar"},F(l.default))}}),ne=H({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(o,{slots:l,emit:n}){const{proxy:{$q:v}}=I(),t=N(A,y);if(t===y)return console.error("QHeader needs to be child of QLayout"),y;const f=k(parseInt(o.heightHint,10)),r=k(!0),m=c(()=>o.reveal===!0||t.view.value.indexOf("H")!==-1||v.platform.is.ios&&t.isContainer.value===!0),p=c(()=>{if(o.modelValue!==!0)return 0;if(m.value===!0)return r.value===!0?f.value:0;const e=f.value-t.scroll.value.position;return e>0?e:0}),_=c(()=>o.modelValue!==!0||m.value===!0&&r.value!==!0),M=c(()=>o.modelValue===!0&&_.value===!0&&o.reveal===!0),R=c(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(o.bordered===!0?" q-header--bordered":"")+(_.value===!0?" q-header--hidden":"")+(o.modelValue!==!0?" q-layout--prevent-focus":"")),$=c(()=>{const e=t.rows.value.top,u={};return e[0]==="l"&&t.left.space===!0&&(u[v.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(u[v.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),u});function s(e,u){t.update("header",e,u)}function h(e,u){e.value!==u&&(e.value=u)}function O({height:e}){h(f,e),s("size",e)}function S(e){M.value===!0&&h(r,!0),n("focusin",e)}g(()=>o.modelValue,e=>{s("space",e),h(r,!0),t.animate()}),g(p,e=>{s("offset",e)}),g(()=>o.reveal,e=>{e===!1&&h(r,o.modelValue)}),g(r,e=>{t.animate(),n("reveal",e)}),g(t.scroll,e=>{o.reveal===!0&&h(r,e.direction==="up"||e.position<=o.revealOffset||e.position-e.inflectionPoint<100)});const Q={};return t.instances.header=Q,o.modelValue===!0&&s("size",f.value),s("space",o.modelValue),s("offset",p.value),D(()=>{t.instances.header===Q&&(t.instances.header=void 0,s("size",0),s("offset",0),s("space",!1))}),()=>{const e=T(l.default,[]);return o.elevated===!0&&e.push(w("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(w(X,{debounce:0,onResize:O})),w("header",{class:R.value,style:$.value,onFocusin:S},e)}}}),le="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20version='1.1'%20id='svg1'%20width='541.94397'%20height='402.84'%20viewBox='0%200%20541.94397%20402.84'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3cg%20id='g1'%20transform='translate(0,-1.0071e-5)'%3e%3cg%20id='group-R5'%3e%3cpath%20id='path2'%20d='M%201095.92,843.281%201402.01,2649.03%203363.98,74.1602%20Z%20M%20126.914,131.289%201330.74,2560.39%201039.1,839.879%20Z%20M%201069.86,793.559%203247.52,55.0898%20H%20119.203%20Z%20M%201375.43,2775.39%200,0%20H%203490.16%20L%201375.43,2775.39'%20style='fill:%23151c26;fill-opacity:1;fill-rule:nonzero;stroke:none'%20transform='matrix(0.13333333,0,0,-0.13333333,0,402.84)'%20/%3e%3cpath%20id='path3'%20d='m%201957.57,2536.14%20c%2039.46,232.74%2071.19,419.93%2082.25,485.16%2012.73,-17.01%2020.99,-27.97%2020.99,-27.97%200,0%201695.81,-2250.799%202003.77,-2659.541%20-278.64,94.543%20-2345.48,795.441%20-2345.48,795.441%200,0%20142.21,839.03%20238.47,1406.91'%20style='fill:%23161d26;fill-opacity:1;fill-rule:nonzero;stroke:none'%20transform='matrix(0.13333333,0,0,-0.13333333,0,402.84)'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",se={class:"absolute-center gt-xs"},ie={key:1,"align-center":"",class:"justify-center row text-h3"},$e=U({__name:"MainLayout",setup(o){const l=k(!1),n=oe();ae();const v=()=>{L.push(J.logo.to)},t=c(()=>{const r=L.currentRoute.value.hash;if(r&&r.startsWith("#token="))return r.replace("#token=","")});j(()=>{t.value===void 0?n.authenticate(!0):n.updateToken(t.value),l.value=!1});const f=()=>{l.value=!l.value};return(r,m)=>{const p=P("router-view");return x(),C(ee,{view:"hHh Lpr lFf"},{default:i(()=>[a(ne,{elevated:""},{default:i(()=>[a(re,{class:"text-black bg-white"},{default:i(()=>[a(b,{flat:"",dense:"",round:"",class:"xs",icon:"menu","aria-label":"Menu",onClick:f}),a(b,{flat:"",dense:"",class:"q-my-sm"},{default:i(()=>[a(W,{position:"left",src:le,alt:"Logo",height:"38px",width:"200px",fit:"scale-down",onClick:v})]),_:1}),a(G),a(z,{auth:""},{default:i(()=>[Z("div",se,[a(B,{horizontal:""})]),a(b,{flat:"",dense:"",color:"secondary",tooltip:"Profile",icon:"mdi-account",to:"/user"}),a(q,{tooltip:"Logout",icon:"logout",onClick:d(n).logout},null,8,["onClick"])]),_:1}),a(z,{no_auth:""},{default:i(()=>[a(q,{tooltip:"Login",icon:"login",onClick:d(n).login},null,8,["onClick"])]),_:1})]),_:1})]),_:1}),a(p,{name:"LeftSideBar"},{default:i(()=>[a(Y,{class:"xs",id:"leftDrawer",modelValue:d(l),"onUpdate:modelValue":m[0]||(m[0]=_=>K(l)?l.value=_:null),bordered:""},{default:i(()=>[a(B)]),_:1},8,["modelValue"])]),_:1}),a(te,null,{default:i(()=>[d(n).isAuthenticated||d(t)?(x(),C(p,{key:0})):V("",!0),!d(n).isAuthenticated&&!d(t)?(x(),E("div",ie," Login to see more! ")):V("",!0)]),_:1})]),_:1})}}});export{$e as default};
