import{Q as g}from"./QSpace-k_Ok6dG2.js";import{d as S,b as l,c as Q,ae as B,a6 as I,I as t,v as p,a7 as N,p as R,a8 as k,a9 as V,u as a,x as m,aa as W,a0 as c,af as x,y as L,ac as y}from"./index-Du_3Vesk.js";import{a as f}from"./api-C-PlNVV_.js";import{_ as v}from"./ButtonWithTooltip.vue_vue_type_script_setup_true_lang-GHMn38hu.js";import"./axios-CInKXjoT.js";import"./index-3fevySbJ.js";import"./auth-dzuJufgy.js";import"./pinia-BXXl-SmG.js";import"./QTooltip-CsZJC6ig.js";import"./selection-BDLl0KOp.js";const z={class:"row text-h6"},E={style:{"text-indent":"0px","white-space":"pre-wrap"}},U={class:"row text-h6"},j={style:{"text-indent":"0px","white-space":"pre-wrap"}},K=S({__name:"ServerComponent",setup(O){const b=l([]),C=l(""),i=l(""),s=l(!0),r=l(!0),n=l(!0),_=Q(()=>{const w=b.value,e=i.value.toLowerCase();return e==""&&s.value&&r.value&&n.value?w.join(`
`):w.filter(d=>e!=""&&!d.toLowerCase().includes(e)?!1:d.startsWith("INFO:")?s.value:d.startsWith("WARNING:")?r.value:d.startsWith("ERROR:")?n.value:!0).join(`
`)}),u=async()=>{b.value=(await f.post("/backend/log")).data,C.value=(await f.post("/backend/system_log")).data},h=async()=>{await f.delete("/backend/log"),await u()};return B(u),(w,e)=>(R(),I("div",null,[t(N,{flat:""},{default:p(()=>[t(k,{class:"text-h5 row"},{default:p(()=>[e[5]||(e[5]=V(" Server ")),t(g),t(v,{size:"lg",tooltip:"Restart backend",icon:"refresh",color:"warning",onClick:e[0]||(e[0]=o=>a(f).post("/backend/restart"))})]),_:1}),t(k,null,{default:p(()=>[m("div",z,[e[6]||(e[6]=V(" Backend Log ")),t(g),t(W,{modelValue:a(i),"onUpdate:modelValue":e[1]||(e[1]=o=>c(i)?i.value=o:null),label:"Search"},null,8,["modelValue"]),t(x,{modelValue:a(s),"onUpdate:modelValue":e[2]||(e[2]=o=>c(s)?s.value=o:null),label:"Info"},null,8,["modelValue"]),t(x,{modelValue:a(r),"onUpdate:modelValue":e[3]||(e[3]=o=>c(r)?r.value=o:null),label:"Warning"},null,8,["modelValue"]),t(x,{modelValue:a(n),"onUpdate:modelValue":e[4]||(e[4]=o=>c(n)?n.value=o:null),label:"Error"},null,8,["modelValue"]),t(v,{color:"positive",size:"md",icon:"refresh",onClick:u}),t(v,{color:"negative",size:"md",icon:"delete",onClick:h})]),m("p",E,L(a(_)),1)]),_:1}),t(y),t(k,null,{default:p(()=>[m("div",U,[e[7]||(e[7]=V(" System Log ")),t(g),t(v,{color:"positive",size:"md",icon:"refresh",onClick:u})]),m("p",j,L(a(C)),1)]),_:1}),t(y)]),_:1})]))}});export{K as default};
