import{aP as $e,aQ as j,aR as A,aS as H,ar as ze,aT as z,aU as ae,aV as ce,aW as K,aX as Pe,s as We,e as Fe,ax as Qe,g as Ne,ay as Xe,j as Ie,i as Ve,ag as Re,J as Ye,K as J,L as Ue,b as D,c as d,aA as je,aY as He,w as b,aZ as Ke,D as fe,B as Je,aq as Ze,aC as Ge,h as P,R as ve,f as et,d as tt,t as at,at as rt,a_ as ot,o as me,p as Z,av as he,u as W,v as G,a6 as it,ad as nt,I as ut,a9 as lt,y as st,ab as dt}from"./index-Du_3Vesk.js";import{c as ct}from"./selection-BDLl0KOp.js";import{b as F}from"./format-CJebrXOQ.js";import{Q as ft}from"./QItemSection-CpQhvstY.js";import{Q as vt}from"./QItem-DtTTb-ec.js";import{Q as mt}from"./QList-C_17cm5H.js";import{u as ht}from"./user-Q-Yu3pSj.js";const re={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},pt=Object.keys(re);re.all=!0;function pe(t){const o={};for(const n of pt)t[n]===!0&&(o[n]=!0);return Object.keys(o).length===0?re:(o.horizontal===!0?o.left=o.right=!0:o.left===!0&&o.right===!0&&(o.horizontal=!0),o.vertical===!0?o.up=o.down=!0:o.up===!0&&o.down===!0&&(o.vertical=!0),o.horizontal===!0&&o.vertical===!0&&(o.all=!0),o)}const yt=["INPUT","TEXTAREA"];function ye(t,o){return o.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof o.handler=="function"&&yt.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(o.uid)===-1)}function ee(t,o,n){const h=ae(t);let e,r=h.left-o.event.x,s=h.top-o.event.y,c=Math.abs(r),v=Math.abs(s);const u=o.direction;u.horizontal===!0&&u.vertical!==!0?e=r<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?e=s<0?"up":"down":u.up===!0&&s<0?(e="up",c>v&&(u.left===!0&&r<0?e="left":u.right===!0&&r>0&&(e="right"))):u.down===!0&&s>0?(e="down",c>v&&(u.left===!0&&r<0?e="left":u.right===!0&&r>0&&(e="right"))):u.left===!0&&r<0?(e="left",c<v&&(u.up===!0&&s<0?e="up":u.down===!0&&s>0&&(e="down"))):u.right===!0&&r>0&&(e="right",c<v&&(u.up===!0&&s<0?e="up":u.down===!0&&s>0&&(e="down")));let i=!1;if(e===void 0&&n===!1){if(o.event.isFirst===!0||o.event.lastDir===void 0)return{};e=o.event.lastDir,i=!0,e==="left"||e==="right"?(h.left-=r,c=0,r=0):(h.top-=s,v=0,s=0)}return{synthetic:i,payload:{evt:t,touch:o.event.mouse!==!0,mouse:o.event.mouse===!0,position:h,direction:e,isFirst:o.event.isFirst,isFinal:n===!0,duration:Date.now()-o.event.time,distance:{x:c,y:v},offset:{x:r,y:s},delta:{x:h.left-o.event.lastX,y:h.top-o.event.lastY}}}}let bt=0;const te=$e({name:"touch-pan",beforeMount(t,{value:o,modifiers:n}){if(n.mouse!==!0&&A.has.touch!==!0)return;function h(r,s){n.mouse===!0&&s===!0?We(r):(n.stop===!0&&K(r),n.prevent===!0&&ce(r))}const e={uid:"qvtp_"+bt++,handler:o,modifiers:n,direction:pe(n),noop:ze,mouseStart(r){ye(r,e)&&Pe(r)&&(z(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(r,!0))},touchStart(r){if(ye(r,e)){const s=r.target;z(e,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),e.start(r)}},start(r,s){if(A.is.firefox===!0&&H(t,!0),e.lastEvt=r,s===!0||n.stop===!0){if(e.direction.all!==!0&&(s!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const u=r.type.indexOf("mouse")!==-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&ce(u),r.cancelBubble===!0&&K(u),Object.assign(u,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[e.uid]:r.qClonedBy.concat(e.uid)}),e.initialEvent={target:r.target,event:u}}K(r)}const{left:c,top:v}=ae(r);e.event={x:c,y:v,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:c,lastY:v}},move(r){if(e.event===void 0)return;const s=ae(r),c=s.left-e.event.x,v=s.top-e.event.y;if(c===0&&v===0)return;e.lastEvt=r;const u=e.event.mouse===!0,i=()=>{h(r,u);let y;n.preserveCursor!==!0&&n.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ct(),e.styleCleanup=f=>{if(e.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),u===!0){const B=()=>{document.body.classList.remove("no-pointer-events--children")};f!==void 0?setTimeout(()=>{B(),f()},50):B()}else f!==void 0&&f()}};if(e.event.detected===!0){e.event.isFirst!==!0&&h(r,e.event.mouse);const{payload:y,synthetic:f}=ee(r,e,!1);y!==void 0&&(e.handler(y)===!1?e.end(r):(e.styleCleanup===void 0&&e.event.isFirst===!0&&i(),e.event.lastX=y.position.left,e.event.lastY=y.position.top,e.event.lastDir=f===!0?void 0:y.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||u===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){i(),e.event.detected=!0,e.move(r);return}const k=Math.abs(c),p=Math.abs(v);k!==p&&(e.direction.horizontal===!0&&k>p||e.direction.vertical===!0&&k<p||e.direction.up===!0&&k<p&&v<0||e.direction.down===!0&&k<p&&v>0||e.direction.left===!0&&k>p&&c<0||e.direction.right===!0&&k>p&&c>0?(e.event.detected=!0,e.move(r)):e.end(r,!0))},end(r,s){if(e.event!==void 0){if(j(e,"temp"),A.is.firefox===!0&&H(t,!1),s===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(ee(r===void 0?e.lastEvt:r,e).payload);const{payload:c}=ee(r===void 0?e.lastEvt:r,e,!0),v=()=>{e.handler(c)};e.styleCleanup!==void 0?e.styleCleanup(v):v()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,n.mouse===!0){const r=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";z(e,"main",[[t,"mousedown","mouseStart",`passive${r}`]])}A.has.touch===!0&&z(e,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,o){const n=t.__qtouchpan;n!==void 0&&(o.oldValue!==o.value&&(typeof value!="function"&&n.end(),n.handler=o.value),n.direction=pe(o.modifiers))},beforeUnmount(t){const o=t.__qtouchpan;o!==void 0&&(o.event!==void 0&&o.end(),j(o,"main"),j(o,"temp"),A.is.firefox===!0&&H(t,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete t.__qtouchpan)}}),be=150,_t=Fe({name:"QDrawer",inheritAttrs:!1,props:{...Xe,...Ne,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Qe,"onLayout","miniState"],setup(t,{slots:o,emit:n,attrs:h}){const e=Ie(),{proxy:{$q:r}}=e,s=Ve(t,r),{preventBodyScroll:c}=Ke(),{registerTimeout:v,removeTimeout:u}=Re(),i=Ye(Ue,J);if(i===J)return console.error("QDrawer needs to be child of QLayout"),J;let k,p=null,y;const f=D(t.behavior==="mobile"||t.behavior!=="desktop"&&i.totalWidth.value<=t.breakpoint),B=d(()=>t.mini===!0&&f.value!==!0),w=d(()=>B.value===!0?t.miniWidth:t.width),m=D(t.showIfAbove===!0&&f.value===!1?!0:t.modelValue===!0),oe=d(()=>t.persistent!==!0&&(f.value===!0||Ce.value===!0));function ie(a,l){if(ge(),a!==!1&&i.animate(),C(0),f.value===!0){const g=i.instances[L.value];g!==void 0&&g.belowBreakpoint===!0&&g.hide(!1),S(1),i.isContainer.value!==!0&&c(!0)}else S(0),a!==!1&&R(!1);v(()=>{a!==!1&&R(!0),l!==!0&&n("show",a)},be)}function ne(a,l){we(),a!==!1&&i.animate(),S(0),C(_.value*w.value),Y(),l!==!0?v(()=>{n("hide",a)},be):u()}const{show:Q,hide:E}=je({showing:m,hideOnRouteChange:oe,handleShow:ie,handleHide:ne}),{addToHistory:ge,removeFromHistory:we}=He(m,E,oe),O={belowBreakpoint:f,hide:E},q=d(()=>t.side==="right"),_=d(()=>(r.lang.rtl===!0?-1:1)*(q.value===!0?1:-1)),ue=D(0),T=D(!1),N=D(!1),le=D(w.value*_.value),L=d(()=>q.value===!0?"left":"right"),X=d(()=>m.value===!0&&f.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:w.value:0),I=d(()=>t.overlay===!0||t.miniToOverlay===!0||i.view.value.indexOf(q.value?"R":"L")!==-1||r.platform.is.ios===!0&&i.isContainer.value===!0),M=d(()=>t.overlay===!1&&m.value===!0&&f.value===!1),Ce=d(()=>t.overlay===!0&&m.value===!0&&f.value===!1),ke=d(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&T.value===!1?" hidden":"")),qe=d(()=>({backgroundColor:`rgba(0,0,0,${ue.value*.4})`})),se=d(()=>q.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),Be=d(()=>q.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),Se=d(()=>{const a={};return i.header.space===!0&&se.value===!1&&(I.value===!0?a.top=`${i.header.offset}px`:i.header.space===!0&&(a.top=`${i.header.size}px`)),i.footer.space===!0&&Be.value===!1&&(I.value===!0?a.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(a.bottom=`${i.footer.size}px`)),a}),xe=d(()=>{const a={width:`${w.value}px`,transform:`translateX(${le.value}px)`};return f.value===!0?a:Object.assign(a,Se.value)}),_e=d(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),Te=d(()=>`q-drawer q-drawer--${t.side}`+(N.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(T.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(I.value===!0||M.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(se.value===!0?" q-drawer--top-padding":""))),De=d(()=>{const a=r.lang.rtl===!0?t.side:L.value;return[[te,Oe,void 0,{[a]:!0,mouse:!0}]]}),Ee=d(()=>{const a=r.lang.rtl===!0?L.value:t.side;return[[te,de,void 0,{[a]:!0,mouse:!0}]]}),Me=d(()=>{const a=r.lang.rtl===!0?L.value:t.side;return[[te,de,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function V(){Le(f,t.behavior==="mobile"||t.behavior!=="desktop"&&i.totalWidth.value<=t.breakpoint)}b(f,a=>{a===!0?(k=m.value,m.value===!0&&E(!1)):t.overlay===!1&&t.behavior!=="mobile"&&k!==!1&&(m.value===!0?(C(0),S(0),Y()):Q(!1))}),b(()=>t.side,(a,l)=>{i.instances[l]===O&&(i.instances[l]=void 0,i[l].space=!1,i[l].offset=0),i.instances[a]=O,i[a].size=w.value,i[a].space=M.value,i[a].offset=X.value}),b(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&V()}),b(()=>t.behavior+t.breakpoint,V),b(i.isContainer,a=>{m.value===!0&&c(a!==!0),a===!0&&V()}),b(i.scrollbarWidth,()=>{C(m.value===!0?0:void 0)}),b(X,a=>{x("offset",a)}),b(M,a=>{n("onLayout",a),x("space",a)}),b(q,()=>{C()}),b(w,a=>{C(),U(t.miniToOverlay,a)}),b(()=>t.miniToOverlay,a=>{U(a,w.value)}),b(()=>r.lang.rtl,()=>{C()}),b(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Ae(),i.animate())}),b(B,a=>{n("miniState",a)});function C(a){a===void 0?fe(()=>{a=m.value===!0?0:w.value,C(_.value*a)}):(i.isContainer.value===!0&&q.value===!0&&(f.value===!0||Math.abs(a)===w.value)&&(a+=_.value*i.scrollbarWidth.value),le.value=a)}function S(a){ue.value=a}function R(a){const l=a===!0?"remove":i.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function Ae(){p!==null&&clearTimeout(p),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),N.value=!0,p=setTimeout(()=>{p=null,N.value=!1,e&&e.proxy&&e.proxy.$el&&e.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Oe(a){if(m.value!==!1)return;const l=w.value,g=F(a.distance.x,0,l);if(a.isFinal===!0){g>=Math.min(75,l)===!0?Q():(i.animate(),S(0),C(_.value*l)),T.value=!1;return}C((r.lang.rtl===!0?q.value!==!0:q.value)?Math.max(l-g,0):Math.min(0,g-l)),S(F(g/l,0,1)),a.isFirst===!0&&(T.value=!0)}function de(a){if(m.value!==!0)return;const l=w.value,g=a.direction===t.side,$=(r.lang.rtl===!0?g!==!0:g)?F(a.distance.x,0,l):0;if(a.isFinal===!0){Math.abs($)<Math.min(75,l)===!0?(i.animate(),S(1),C(0)):E(),T.value=!1;return}C(_.value*$),S(F(1-$/l,0,1)),a.isFirst===!0&&(T.value=!0)}function Y(){c(!1),R(!0)}function x(a,l){i.update(t.side,a,l)}function Le(a,l){a.value!==l&&(a.value=l)}function U(a,l){x("size",a===!0?t.miniWidth:l)}return i.instances[t.side]=O,U(t.miniToOverlay,w.value),x("space",M.value),x("offset",X.value),t.showIfAbove===!0&&t.modelValue!==!0&&m.value===!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),Je(()=>{n("onLayout",M.value),n("miniState",B.value),k=t.showIfAbove===!0;const a=()=>{(m.value===!0?ie:ne)(!1,!0)};if(i.totalWidth.value!==0){fe(a);return}y=b(i.totalWidth,()=>{y(),y=void 0,m.value===!1&&t.showIfAbove===!0&&f.value===!1?Q(!1):a()})}),Ze(()=>{y!==void 0&&y(),p!==null&&(clearTimeout(p),p=null),m.value===!0&&Y(),i.instances[t.side]===O&&(i.instances[t.side]=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const a=[];f.value===!0&&(t.noSwipeOpen===!1&&a.push(Ge(P("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),De.value)),a.push(ve("div",{ref:"backdrop",class:ke.value,style:qe.value,"aria-hidden":"true",onClick:E},void 0,"backdrop",t.noSwipeBackdrop!==!0&&m.value===!0,()=>Me.value)));const l=B.value===!0&&o.mini!==void 0,g=[P("div",{...h,key:""+l,class:[_e.value,h.class]},l===!0?o.mini():et(o.default))];return t.elevated===!0&&m.value===!0&&g.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(ve("aside",{ref:"content",class:Te.value,style:xe.value},g,"contentclose",t.noSwipeClose!==!0&&f.value===!0,()=>Ee.value)),P("div",{class:"q-drawer-container"},a)}}}),Tt=tt({__name:"NavigationComponent",props:{horizontal:{type:Boolean}},setup(t){const o=t,{horizontal:n}=at(o),h=d(()=>n&&n.value?"col-auto":""),e=d(()=>n&&n.value?"row":"");d(()=>rt.currentRoute.value.query.appId);const r=ht(),s=d(()=>{const c=[...ot.bar];return(r.isAdmin||r.isAppDeveloper)&&c.push({to:"/admin/app_development",label:"Admin"}),c});return(c,v)=>(Z(),me(mt,{fit:W(n),class:he(W(e))},{default:G(()=>[(Z(!0),it(dt,null,nt(W(s),(u,i)=>(Z(),me(vt,{key:i,class:he(W(h)),clickable:"",label:u.label,to:u.to,href:u.href},{default:G(()=>[ut(ft,{class:"text-subtitle1"},{default:G(()=>[lt(st(u.label),1)]),_:2},1024)]),_:2},1032,["class","label","to","href"]))),128))]),_:1},8,["fit","class"]))}});export{_t as Q,Tt as _};
